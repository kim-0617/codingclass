<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서치 이펙트 01</title>
    <link rel="stylesheet" href="../asset/css/style.css">
    <link rel="stylesheet" href="../asset/css/dracula.css">
</head>

<body>
    <main id="main">
        <div class="document">
            <h2 class="t_tit">검색 해보기!</h2>
                <p class="t_desc2">
                    searchEffect02번 입니다. 01번 보다 한층 발전시켰습니다. includes()로 검색해서 포함되는 단어도 찾을 수 있도록 됐구요,
                    검색된 속성의 갯수도 나오구요, css 타입별로 검색해도 결과가 나옵니다. 신기하죠? (border타입, 애니메이션 타입 이렇게요)
                </p>
            <div class="t_frame" style="min-height: 1000px; padding-top: 0;">
                <iframe src="https://kim-0617.github.io/coding/javascript/effect/searchEffect02.html" frameborder="0"></iframe>
            </div>
            <div class="t_link">
                <a href="https://kim-0617.github.io/coding/javascript/effect/searchEffect02.html" target="_blank">실제 사이트 보기</a>
                <a href="https://github.com/kim-0617/coding/blob/main/javascript/effect/searchEffect02.html" target="_blank">원본 소스 보기</a>
            </div>
            <hr>

            <h2 class="t_tit">코드</h2>
            <h3 class="t_tit2">html</h3>
            <p class="t_desc">html도 info부분 추가된게 전부 입니다.</p>
            <div class="t_code">
<pre><code class="language-html">&lt;div class="search__info"&gt;
    &lt;div class="type"&gt;플렉스, 애니메이션, 백그라운드, 기타 등등 유형 별로 검색해주세요!&lt;/div&gt;
    &lt;div&gt;CSS 속성 갯수 : &lt;span class="num"&gt;&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
            </div>
            <!-- // html -->

            <h3 class="t_tit2">css</h3>
            <p class="t_desc">css는 거의 변동없습니다. info 부분만 추가됐어요</p>
            <div class="t_code">
<pre><code class="language-css">.search__info{
    text-align: right;
    margin-bottom: 30px;
    padding-bottom: 10px;
    border-bottom: 2px dashed var(--htmlColor);
}
.search__info .type{
    text-align: center;
    margin-bottom: 10px;
}
</code></pre>
            </div>
            <!-- // css -->

            <h3 class="t_tit2">js</h3>
            <p class="t_desc">
                검색동작은 includes()로 인해서 포함되는 단어면 모두 검색합니다. 어떻게요? str.includes("찾는문자열") 하면 있다면 true 나오겠죠?
                그러면 hide 클래스가 없어져서 나오는거예요. css타입도 설정해 주었어요.
                타입으로 검색해도 타입별로 검색결과를 얻을 수 있습니다.
                속성갯수는 처음에는 search__list의 li갯수 만큼 있잖아요? 그 후 검색하면 키워드에 맞는 속성들만 보여질텐데
                hide클래스를 가지고 있지 않은 li의 갯수를 세서 보여주고 있어요, keyup 이벤트가 발생할 때마다 말예요!
            </p>
            <div class="t_code">
<pre><code class="language-js">// 선택자
const searchBox = document.querySelector('.search__box input'); // 검색 영역
const searchList = document.querySelectorAll('.search__list ul li'); // 목록 리스트
const searchInfo = document.querySelector('.search__info .num'); // 목록 리스트

// 속성 갯수 설정하기
searchInfo.innerHTML = searchList.length;

//
searchBox.addEventListener("keyup", () => {
    const searchWord = searchBox.value; // 사용자가 입력한 키워드
    let cnt = 0;

    searchList.forEach(el => {
        const cssName = el.dataset.name;
        const cssType = el.dataset.type;
        
        if(cssName.includes(searchWord) || cssType.includes(searchWord)){
            el.classList.remove('hide');
        }
        else{
            el.classList.add('hide');
        }

        if(!el.classList.value){
            cnt++;
        }
    });
    searchInfo.innerHTML = cnt;
});
</code></pre>
            </div>
            <!-- // js -->
        </div>
    </main>
    <!-- //main -->

    <footer id="footer">
        <a href="mailto:kkk5993@naver.com">kkk5993@naver.com</a>
    </footer>
    <!-- //footer -->
    <script src="../asset/js/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>

</html>